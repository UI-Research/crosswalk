[{"path":"https://ui-research.github.io/crosswalk/AGENTS.html","id":null,"dir":"","previous_headings":"","what":"Agent Instructions","title":"Agent Instructions","text":"project uses bd (beads) issue tracking. Run bd onboard get started.","code":""},{"path":"https://ui-research.github.io/crosswalk/AGENTS.html","id":"quick-reference","dir":"","previous_headings":"","what":"Quick Reference","title":"Agent Instructions","text":"","code":"bd ready              # Find available work bd show <id>          # View issue details bd update <id> --status in_progress  # Claim work bd close <id>         # Complete work bd sync               # Sync with git"},{"path":"https://ui-research.github.io/crosswalk/AGENTS.html","id":"landing-the-plane-session-completion","dir":"","previous_headings":"","what":"Landing the Plane (Session Completion)","title":"Agent Instructions","text":"ending work session, MUST complete steps . Work complete git push succeeds. MANDATORY WORKFLOW: File issues remaining work - Create issues anything needs follow-Run quality gates (code changed) - Tests, linters, builds Update issue status - Close finished work, update -progress items PUSH REMOTE - MANDATORY: Clean - Clear stashes, prune remote branches Verify - changes committed pushed Hand - Provide context next session CRITICAL RULES: - Work complete git push succeeds - NEVER stop pushing - leaves work stranded locally - NEVER say “ready push ” - (Claude) must push - push fails, resolve retry succeeds","code":"git pull --rebase bd sync git push git status  # MUST show \"up to date with origin\""},{"path":"https://ui-research.github.io/crosswalk/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 crosswalk authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Standardizing Longitudinal Data","text":"common challenge longitudinal tract data census tract boundaries change decennial censuses. Data 2020 typically uses 2010 tract definitions, recent data uses 2020 tract definitions. analyze trends time, need standardize years consistent tract vintage. vignette demonstrates crosswalk package efficiently handles task using Urban Institute’s HMDA Neighborhood Summary Files, provide tract-level mortgage lending data 2018-2023. 2018-2021 files use 2010 tract definitions, 2022-2023 use 2020 tract definitions.","code":""},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Standardizing Longitudinal Data","text":"","code":"library(crosswalk) library(dplyr) library(purrr) library(readr) library(tibble) library(stringr) library(tidycensus) library(ggplot2)"},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"step-1-download-the-data","dir":"Articles","previous_headings":"","what":"Step 1: Download the Data","title":"Standardizing Longitudinal Data","text":"Urban Institute publishes annual HMDA tract-level summary files. Let’s download six years (2018-2023): Let’s inspect structure data:","code":"## metadata object describing data year/vintage/url metadata = tibble::tribble(   ~ year, ~ vintage, ~ url,   2018, 2010, \"https://urban-data-catalog.s3.amazonaws.com/drupal-root-live/2023/12/20/hmda_tract_2018.csv\",   2019, 2010, \"https://urban-data-catalog.s3.amazonaws.com/drupal-root-live/2023/12/20/hmda_tract_2019.csv\",   2020, 2010, \"https://urban-data-catalog.s3.amazonaws.com/drupal-root-live/2023/12/20/hmda_tract_2020.csv\",   2021, 2010, \"https://urban-data-catalog.s3.amazonaws.com/drupal-root-live/2023/12/20/hmda_tract_2021.csv\",   2022, 2020, \"https://urban-data-catalog.s3.amazonaws.com/drupal-root-live/2023/12/20/hmda_tract_2022.csv\",   2023, 2020, \"https://urban-data-catalog.s3.amazonaws.com/drupal-root-live/2024/12/17/hmda_tract_2023.csv\")  ## iterate over the metadata object and read in data for each year hmda_data <- pmap(metadata, function(url, year, vintage) {   read_csv(url, show_col_types = FALSE) |>     mutate(       vintage = vintage,       data_year = as.integer(year)) })  names(hmda_data) = metadata$year %>% as.character() ## just view the first ten columns glimpse(hmda_data[[\"2018\"]] %>% select(1:10)) #> Rows: 74,652 #> Columns: 10 #> $ geo2010                            <chr> \"00XXXXXXXXX\", \"01001020100\", \"0100… #> $ owner_purchase_originations        <dbl> 2, 21, 11, 41, 64, 185, 44, 68, 41,… #> $ occupancy_investment_origination   <dbl> 2, 4, 4, 3, 6, 19, 3, 5, 3, 5, 6, 0… #> $ occupancy_investment_units_1_4     <dbl> 2, 4, 3, 3, 6, 17, 3, 5, 3, 5, 5, 0… #> $ occupancy_investment_units_5ormore <dbl> 0, 0, 1, 0, 0, 2, 0, 0, 0, 0, 1, 0,… #> $ income_available                   <dbl> 0, 21, 11, 41, 64, 184, 42, 68, 41,… #> $ race_available                     <dbl> 2, 21, 10, 39, 61, 171, 41, 66, 38,… #> $ race_income_available              <dbl> 0, 21, 10, 39, 61, 170, 39, 66, 38,… #> $ age_available                      <dbl> 2, 21, 11, 41, 64, 185, 44, 68, 41,… #> $ race_white_purchase                <dbl> 2, 19, 7, 33, 54, 128, 30, 47, 34, …"},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"step-2-prepare-data-for-crosswalking","dir":"Articles","previous_headings":"","what":"Step 2: Prepare Data for Crosswalking","title":"Standardizing Longitudinal Data","text":"’ll focus subset variables crosswalking (total applications race/ethnicity median loan amounts). explicitly pass variables want crosswalk appropriate parameter (count_columns non_count_columns), ’s easy (nice practice) prefix variables unit types (“count” “median”, respectively), crosswalk_data() crosswalk appropriately default.","code":"prepare_hmda <- function(data) {   data |>     rename_with(.cols = matches(\"^geo20\"), .fn = ~ \"source_geoid\") |>     select(       source_geoid,       vintage,       data_year,       # Count variables: rename with count_ prefix for automatic detection       count_race_white_purchase = race_white_purchase,       count_owner_purchase_originations = owner_purchase_originations,       median_owner_loan_amount = owner_loan_amount_median) |>     mutate(source_geoid = as.character(source_geoid)) }  hmda_prepared <- map(hmda_data, prepare_hmda)"},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"step-3-obtain-the-20102020-tract-crosswalk","dir":"Articles","previous_headings":"","what":"Step 3: Obtain the 2010→2020 Tract Crosswalk","title":"Standardizing Longitudinal Data","text":"Next get crosswalk (2010-vintage years HMDA data), contains allocation factors specify distribute values 2010 tracts definitions 2020 tracts.","code":"tract_crosswalk <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"tract\",   source_year = 2010,   target_year = 2020,   weight = \"population\")  # View the crosswalk plan tract_crosswalk$message #> [1] \"Single-step crosswalk:\\n  Step 1: 2010 tract -> 2020 tract (inter-temporal)\\n\\nSingle crosswalk; use allocation_factor_source_to_target directly.\""},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"step-4-apply-the-crosswalk-to-2018-2021-data","dir":"Articles","previous_headings":"","what":"Step 4: Apply the Crosswalk to 2018-2021 Data","title":"Standardizing Longitudinal Data","text":"Now apply crosswalk four years data use 2010 tract definitions. can see relatively small, though insignificant, fractions records source data join crosswalk. occurs, source data effectively lost associated target geography allocation factor assigned .","code":"# Years that need crosswalking (2010 vintage) years_to_crosswalk <- c(\"2018\", \"2019\", \"2020\", \"2021\")  # Apply crosswalk to each year hmda_crosswalked <- map_if(   .x = hmda_prepared,    .p = names(hmda_prepared) %in% years_to_crosswalk,   .f = ~ crosswalk_data(       data = .x,       crosswalk = tract_crosswalk,       geoid_column = \"source_geoid\",       show_join_quality = TRUE))"},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"step-5-assess-crosswalking-quality","dir":"Articles","previous_headings":"","what":"Step 5: Assess Crosswalking Quality","title":"Standardizing Longitudinal Data","text":"anything can learn source data doesn’t join crosswalk? Ideally, every record source data maps record crosswalk.","code":"## we see that some observations that don't match have \"XXXXXX\" in lieu of ## a real tract code--which, from reading the data documentation, we know is ## done to to retain valid observations that, in the source data, do not have  ## a valid tract identifier but do have valid county and/or state identifies hmda_crosswalked |>   map(~      .x |>      attr(\"join_quality\") |>      pluck(\"data_geoids_unmatched\") |>     head(5)) #> $`2018` #> [1] \"00XXXXXXXXX\" \"01001XXXXXX\" \"01003XXXXXX\" \"01005XXXXXX\" \"01007XXXXXX\" #>  #> $`2019` #> [1] \"01001XXXXXX\" \"01003XXXXXX\" \"01005XXXXXX\" \"01007XXXXXX\" \"01009XXXXXX\" #>  #> $`2020` #> [1] \"01001XXXXXX\" \"01003XXXXXX\" \"01005XXXXXX\" \"01007XXXXXX\" \"01009XXXXXX\" #>  #> $`2021` #> [1] \"01001XXXXXX\" \"01003XXXXXX\" \"01005XXXXXX\" \"01007XXXXXX\" \"01009XXXXXX\" #>  #> $`2022` #> NULL #>  #> $`2023` #> NULL ## how many source records are we unable to crosswalk each year, excluding ## those with \"X\" in their GEOIDs? under 30 each year. hmda_crosswalked |>   map(~      .x |>      attr(\"join_quality\") |>      pluck(\"data_geoids_unmatched\") %>%     .[!str_detect(., \"X\")] |>     length()) #> $`2018` #> [1] 25 #>  #> $`2019` #> [1] 27 #>  #> $`2020` #> [1] 29 #>  #> $`2021` #> [1] 24 #>  #> $`2022` #> [1] 0 #>  #> $`2023` #> [1] 0"},{"path":"https://ui-research.github.io/crosswalk/articles/standardizing-longitudinal-data.html","id":"result-a-panel-dataset-in-2020-tract-definitions","dir":"Articles","previous_headings":"","what":"Result: A Panel Dataset in 2020 Tract Definitions","title":"Standardizing Longitudinal Data","text":"now single dataframe six years HMDA data standardized 2020 tract definitions. Due changes tract geographies decades, previously unable accurately compare neighborhood changes time. Now, apples--apples measurements tracts 2018 2023.","code":"## there's a little bit of variation year-to-year in terms of which tracts have ## reported HMDA data, but for the majority, we have observations in each of the ## six years: hmda_combined <- bind_rows(hmda_crosswalked) |>   ## data for years that are crosswalked have slightly different/additional columns   mutate(     geoid = if_else(is.na(geoid), source_geoid, geoid)) |>   count(geoid) |>   count(n)"},{"path":"https://ui-research.github.io/crosswalk/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Curran-Groome. Author, maintainer.","code":""},{"path":"https://ui-research.github.io/crosswalk/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Curran-Groome W (2026). crosswalk: streamlining inter-temporal inter-geography crosswalking. R package version 0.0.0.9001, https://ui-research.github.io/crosswalk/.","code":"@Manual{,   title = {crosswalk: streamlining inter-temporal and inter-geography crosswalking},   author = {Will Curran-Groome},   year = {2026},   note = {R package version 0.0.0.9001},   url = {https://ui-research.github.io/crosswalk/}, }"},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"crosswalk","dir":"","previous_headings":"","what":"streamlining inter-temporal and inter-geography crosswalking","title":"streamlining inter-temporal and inter-geography crosswalking","text":"R package providing simple interface access apply crosswalks.","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"streamlining inter-temporal and inter-geography crosswalking","text":"package provides consistent API standardized versions crosswalks enable consistent approaches work across different geography year combinations. package also facilitates interpolation–, adjusting source geography/year values crosswalk weights translating values desired target geography/year–including diagnostics joins source data crosswalks. package sources crosswalks : Geocorr (Missouri Census Data Center) - -year crosswalks geographies. Uses GeoCorr 2022 (2020 Census geography) 2020s data GeoCorr 2018 (2010 Census geography) 2010s data. correct version selected automatically based year context. IPUMS NHGIS - inter-temporal crosswalks (across different census years) CT Data Collaborative - Connecticut 2020→2022 crosswalks (planning region changes)","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"why-use-crosswalk","dir":"","previous_headings":"","what":"Why Use crosswalk?","title":"streamlining inter-temporal and inter-geography crosswalking","text":"Programmatic access: manual downloads web interfaces Standardized output: Consistent column names across crosswalk sources Metadata tracking: Full provenance crosswalks stored attributes Crosswalk chaining: Automatic chaining multiple crosswalks required Local caching: Reproducible workflows locally-cached crosswalks speed","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"streamlining inter-temporal and inter-geography crosswalking","text":"","code":"# Install from GitHub renv::install(\"UI-Research/crosswalk\") #> # Downloading packages ------------------------------------------------------- #> - Downloading crosswalk 0.0.0.9001 from GitHub ... OK [95.7 Kb in 0.54s] #> Successfully downloaded 1 package in 1 second. #>  #> The following package(s) will be installed: #> - crosswalk [UI-Research/crosswalk] #> These packages will be installed into \"C:/Users/wcurrangroome/AppData/Local/Temp/RtmpkTRpSB/temp_libpath1dfc460a4888\". #>  #> # Installing packages -------------------------------------------------------- #> - Installing crosswalk 0.0.0.9001 ...           OK [built from source and cached in 2.1s] #> Successfully installed 1 package in 2.4 seconds."},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"overview-1","dir":"","previous_headings":"","what":"Overview","title":"streamlining inter-temporal and inter-geography crosswalking","text":"First obtain crosswalk apply data: crosswalk(s) reflect sourced? well crosswalk join source data? accurate crosswalking process?","code":"library(crosswalk) library(dplyr) library(stringr) library(sf)  source_data = tidycensus::get_acs(     year = 2023,     geography = \"zcta\",     output = \"wide\",     variables = c(below_poverty_level = \"B17001_002\")) %>%   dplyr::select(     source_geoid = GEOID,     count_below_poverty_level = below_poverty_levelE)  # Get a crosswalk from ZCTAs to PUMAs (same year, uses Geocorr (2022)) zcta_puma_crosswalk <- get_crosswalk(   source_geography = \"zcta\",   target_geography = \"puma22\",   weight = \"population\")  # Apply the crosswalk to your data crosswalked_data <- crosswalk_data(   data = source_data,   crosswalk = zcta_puma_crosswalk)  ## Or in a single step crosswalked_data = crosswalk_data(   data = source_data,   source_geography = \"zcta\",   target_geography = \"puma22\",   weight = \"population\") attr(crosswalked_data, \"crosswalk_metadata\") #> $call_parameters #> $call_parameters$source_geography #> [1] \"zcta\" #>  #> $call_parameters$target_geography #> [1] \"puma22\" #>  #> $call_parameters$source_year #> NULL #>  #> $call_parameters$target_year #> NULL #>  #> $call_parameters$weight #> [1] \"population\" #>  #> $call_parameters$cache #> NULL #>  #>  #> $data_source #> [1] \"geocorr\" #>  #> $data_source_full_name #> [1] \"Geocorr 2022 (Missouri Census Data Center)\" #>  #> $download_url #> NULL #>  #> $api_endpoint #> [1] \"https://mcdc.missouri.edu/cgi-bin/broker\" #>  #> $documentation_url #> [1] \"https://mcdc.missouri.edu/applications/geocorr2022.html\" #>  #> $citation_url #> NULL #>  #> $github_repository #> NULL #>  #> $source_geography #> [1] \"zcta\" #>  #> $source_geography_standardized #> NULL #>  #> $target_geography #> [1] \"puma22\" #>  #> $target_geography_standardized #> NULL #>  #> $source_year #> NULL #>  #> $target_year #> NULL #>  #> $reference_year #> [1] \"2022\" #>  #> $weighting_variable #> [1] \"population\" #>  #> $state_coverage #> NULL #>  #> $notes #> NULL #>  #> $retrieved_at #> [1] \"2026-02-02 13:20:20 EST\" #>  #> $cached #> [1] FALSE #>  #> $cache_path #> NULL #>  #> $read_from_cache #> NULL #>  #> $is_multi_step #> [1] FALSE #>  #> $crosswalk_package_version #> [1] \"0.0.0.9001\" ## look at all the characteristics of the join(s) between the source data ## and the crosswalks join_quality = attr(crosswalked_data, \"join_quality\")  ## what share of records in the source data do not join to a crosswalk and ## thus are dropped during the crosswalking process? join_quality$pct_data_unmatched #> [1] 0.4234277  ## zctas aren't nested within states, otherwise join_quality$state_analysis_data  ## would help us to ID whether non-joining source data were clustered within one ## or a few states. instead we can join to spatial data to diagnose further: zctas_sf = tigris::zctas(year = 2023) #>   |                                                                              |                                                                      |   0%  |                                                                              |                                                                      |   1%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |==                                                                    |   4%  |                                                                              |===                                                                   |   4%  |                                                                              |===                                                                   |   5%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |=======                                                               |  11%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |=========                                                             |  14%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  16%  |                                                                              |============                                                          |  17%  |                                                                              |============                                                          |  18%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |==============                                                        |  21%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |================                                                      |  24%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |=====================                                                 |  31%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |=======================                                               |  34%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  39%  |                                                                              |============================                                          |  40%  |                                                                              |============================                                          |  41%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |==============================                                        |  44%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |=================================                                     |  48%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |===================================                                   |  51%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |=====================================                                 |  54%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  56%  |                                                                              |========================================                              |  57%  |                                                                              |========================================                              |  58%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |==========================================                            |  61%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |============================================                          |  64%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |===============================================                       |  68%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |=================================================                     |  71%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |===================================================                   |  74%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  76%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================                |  78%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  79%  |                                                                              |========================================================              |  80%  |                                                                              |========================================================              |  81%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |==========================================================            |  84%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |=================================================================     |  94%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================|  99%  |                                                                              |======================================================================| 100% states_sf = tigris::states(year = 2023, cb = TRUE) #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |==                                                                    |   4%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |=====                                                                 |   8%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |=======                                                               |  11%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |============                                                          |  18%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |==============                                                        |  21%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |=================                                                     |  25%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |===================                                                   |  28%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |==========================                                            |  38%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |===============================                                       |  45%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |=================================                                     |  48%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |=============================================                         |  65%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |=================================================                     |  71%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |===================================================                   |  74%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |======================================================                |  78%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |========================================================              |  81%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |===========================================================           |  85%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |=============================================================         |  88%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |===============================================================       |  91%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |====================================================================  |  98%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100%  ## apart from DC, which has a disproportionate number of non-joining ZCTAs-- ## seemingly corresponding to federal areas and buildings--the distribution of ## non-joining ZCTAs appears proportionate to state-level populations and is  ## distributed across many states: zctas_sf %>%    dplyr::filter(GEOID20 %in% join_quality$data_geoids_unmatched) %>%   sf::st_intersection(states_sf %>% select(NAME)) %>%   sf::st_drop_geometry() %>%   dplyr::count(NAME, sort = TRUE) #>                    NAME  n #> 1  District of Columbia 19 #> 2              New York 15 #> 3                 Texas  9 #> 4            California  8 #> 5              Colorado  6 #> 6                  Utah  6 #> 7               Florida  5 #> 8          Pennsylvania  5 #> 9             Tennessee  5 #> 10             Virginia  5 #> 11              Alabama  4 #> 12              Arizona  4 #> 13             Kentucky  4 #> 14             Maryland  4 #> 15                 Ohio  4 #> 16           Washington  4 #> 17              Georgia  3 #> 18            Louisiana  3 #> 19             Michigan  3 #> 20       North Carolina  3 #> 21               Alaska  2 #> 22        Massachusetts  2 #> 23          Mississippi  2 #> 24         North Dakota  2 #> 25             Arkansas  1 #> 26               Hawaii  1 #> 27                Idaho  1 #> 28             Illinois  1 #> 29              Indiana  1 #> 30                 Iowa  1 #> 31               Kansas  1 #> 32                Maine  1 #> 33            Minnesota  1 #> 34             Missouri  1 #> 35              Montana  1 #> 36             Nebraska  1 #> 37               Nevada  1 #> 38           New Mexico  1 #> 39               Oregon  1 #> 40       South Carolina  1 #> 41              Vermont  1 #> 42            Wisconsin  1 comparison_data = tidycensus::get_acs(     year = 2023,     geography = \"puma\",     output = \"wide\",     variables = c(       below_poverty_level = \"B17001_002\")) %>%   dplyr::select(     source_geoid = GEOID,     count_below_poverty_level_acs = below_poverty_levelE)  combined_data = dplyr::left_join(   comparison_data,   crosswalked_data,   by = c(\"source_geoid\" = \"geoid\"))     combined_data %>%   dplyr::select(source_geoid, dplyr::matches(\"count\")) %>%   dplyr::mutate(difference_percent = (count_below_poverty_level_acs - count_below_poverty_level) / count_below_poverty_level_acs) %>%   ggplot2::ggplot() +     ggplot2::geom_histogram(ggplot2::aes(x = difference_percent)) +     ggplot2::theme_minimal() +     ggplot2::theme(panel.grid = ggplot2::element_blank()) +     ggplot2::scale_x_continuous(labels = scales::percent) +     ggplot2::labs(       title = \"Crosswalked data approximates observed values\",       subtitle = \"Block group-level source data would produce more accurate crosswalked values\",       y = \"\",       x = \"Percent difference between observed and crosswalked values\")"},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"core-functions","dir":"","previous_headings":"","what":"Core Functions","title":"streamlining inter-temporal and inter-geography crosswalking","text":"package two main functions, though can also specify needed crosswalk(s) directly crosswalk_data() omit intermediate get_crosswalk() call.","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"understanding-get_crosswalk-output","dir":"","previous_headings":"","what":"Understanding get_crosswalk() Output","title":"streamlining inter-temporal and inter-geography crosswalking","text":"get_crosswalk() always returns list structured follows: list contains three elements:","code":"result <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"zcta\",   source_year = 2010,   target_year = 2020,   weight = \"population\")  names(result) #> [1] \"crosswalks\" \"plan\"       \"message\" #> [1] \"crosswalks\" \"plan\" \"message\""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"single-step-vs-multi-step-crosswalks","dir":"","previous_headings":"Understanding get_crosswalk() Output","what":"Single-Step vs. Multi-Step Crosswalks","title":"streamlining inter-temporal and inter-geography crosswalking","text":"Single-step crosswalks (year, different geography geography, different year): Multi-step crosswalks (single, direct crosswalk available): source year/geography -> target year/geography specifications crosswalk. cases, two crosswalks may needed. package automatically plans fetches required crosswalks: Step 1 (NHGIS): Change year, keep geography constant Step 2 (Geocorr): Change geography target year","code":"# Same year, different geography (Geocorr) result <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"zcta\",   weight = \"population\") # result$crosswalks$step_1 contains one crosswalk  # Same geography, different year (NHGIS) result <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"tract\",   source_year = 2010,   target_year = 2020) # result$crosswalks$step_1 contains one crosswalk result <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"zcta\",   source_year = 2010,   target_year = 2020,   weight = \"population\")  # Two crosswalks are returned names(result$crosswalks) #> [1] \"step_1\" \"step_2\" #> [1] \"step_1\" \"step_2\"  # Step 1: 2010 tracts -> 2020 tracts (NHGIS) # Step 2: 2020 tracts -> 2020 ZCTAs (Geocorr)"},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"crosswalk-structure","dir":"","previous_headings":"Understanding get_crosswalk() Output","what":"Crosswalk Structure","title":"streamlining inter-temporal and inter-geography crosswalking","text":"crosswalk contains standardized columns: Additional columns may include source_year, target_year, population_2020, housing_2020 (population_2010, housing_2010 2010s-vintage crosswalks), land_area_sqmi depending source crosswalk.","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"accessing-metadata","dir":"","previous_headings":"Understanding get_crosswalk() Output","what":"Accessing Metadata","title":"streamlining inter-temporal and inter-geography crosswalking","text":"crosswalk tibble crosswalk_metadata attribute documents crosswalk represents created:","code":"metadata <- attr(result$crosswalks$step_1, \"crosswalk_metadata\") names(metadata) #>  [1] \"call_parameters\"               \"data_source\"                   #>  [3] \"data_source_full_name\"         \"download_url\"                  #>  [5] \"api_endpoint\"                  \"documentation_url\"             #>  [7] \"citation_url\"                  \"github_repository\"             #>  [9] \"source_geography\"              \"source_geography_standardized\" #> [11] \"target_geography\"              \"target_geography_standardized\" #> [13] \"source_year\"                   \"target_year\"                   #> [15] \"reference_year\"                \"weighting_variable\"            #> [17] \"state_coverage\"                \"notes\"                         #> [19] \"retrieved_at\"                  \"cached\"                        #> [21] \"cache_path\"                    \"read_from_cache\"               #> [23] \"is_multi_step\"                 \"crosswalk_package_version\" #> [1] \"call_parameters\" \"data_source\" \"data_source_full_name\" \"download_url\" ..."},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"using-crosswalk_data-to-interpolate-data","dir":"","previous_headings":"","what":"Using crosswalk_data() to Interpolate Data","title":"streamlining inter-temporal and inter-geography crosswalking","text":"crosswalk_data() applies crosswalk weights transform data. automatically handles multi-step crosswalks. ’re hurry, can omit call get_crosswalk() specify needed crosswalk parameters crosswalk_data(), pass get_crosswalk() behind scenes.","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"column-naming-convention","dir":"","previous_headings":"Using crosswalk_data() to Interpolate Data","what":"Column Naming Convention","title":"streamlining inter-temporal and inter-geography crosswalking","text":"function auto-detects columns based prefixes: can also specify columns explicitly via count_columns non_count_columns. non-count variables interpolated using weighted means, weighting allocation factor crosswalk.","code":""},{"path":[]},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"inter-geography-crosswalks-geocorr","dir":"","previous_headings":"Supported Geography and Year Combinations","what":"Inter-Geography Crosswalks (Geocorr)","title":"streamlining inter-temporal and inter-geography crosswalking","text":"package supports inter-geography crosswalks 2020s 2010s Census geographies, automatically selecting correct GeoCorr version based year context provide. 2020s geography (GeoCorr 2022, 2020 Census): Used years 2020+, year specified. block, block group, tract, county place, zcta, puma22 cd118, cd119, urban_area, core_based_statistical_area 2010s geography (GeoCorr 2018, 2010 Census): Used years 2010s (2010-2019). block, block group, tract, county place, zcta, puma12 cd115, cd116","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"inter-temporal-crosswalks-nhgis","dir":"","previous_headings":"Supported Geography and Year Combinations","what":"Inter-Temporal Crosswalks (NHGIS)","title":"streamlining inter-temporal and inter-geography crosswalking","text":"NHGIS provides cross-decade crosswalks following structure: Source geographies: block, block_group, tract Target geographies: - blocks (decennial years ): block, block_group, tract, county, place, zcta, puma, urban_area, cbsa - block_group tract: block_group, tract, county Notes: - Within-decade crosswalks (e.g., 2010→2014) available NHGIS - Block→ZCTA, Block→PUMA, etc. available decennial years (1990, 2000, 2010, 2020) - package automatically uses direct NHGIS crosswalks available (e.g., get_crosswalk(source_geography = \"block\", target_geography = \"zcta\", source_year = 2010, target_year = 2020) returns single-step NHGIS crosswalk)","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"id_20202022-crosswalks-ctdata","dir":"","previous_headings":"Supported Geography and Year Combinations","what":"2020→2022 Crosswalks (CTData)","title":"streamlining inter-temporal and inter-geography crosswalking","text":"2020 2022 transformations, package uses CT Data Collaborative crosswalks Connecticut (planning regions replaced counties) identity mappings states (changes occurred).","code":""},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"api-keys","dir":"","previous_headings":"","what":"API Keys","title":"streamlining inter-temporal and inter-geography crosswalking","text":"NHGIS crosswalks require IPUMS API key. Get one https://account.ipums.org/api_keys add .Renviron:","code":"usethis::edit_r_environ() # Add: IPUMS_API_KEY=your_key_here"},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"caching","dir":"","previous_headings":"","what":"Caching","title":"streamlining inter-temporal and inter-geography crosswalking","text":"Use cache parameter save crosswalks locally ease:","code":"result <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"zcta\",   weight = \"population\",   cache = here::here(\"crosswalks-cache\"))"},{"path":"https://ui-research.github.io/crosswalk/index.html","id":"citations","dir":"","previous_headings":"","what":"Citations","title":"streamlining inter-temporal and inter-geography crosswalking","text":"intellectual credit underlying crosswalks belongs original developers. NHGIS, see citation requirements : https://www.nhgis.org/citation--use-nhgis-data Geocorr, suggested citations: Missouri Census Data Center, University Missouri. (2022). Geocorr 2022: Geographic Correspondence Engine. Retrieved : https://mcdc.missouri.edu/applications/geocorr2022.html Missouri Census Data Center, University Missouri. (2018). Geocorr 2018: Geographic Correspondence Engine. Retrieved : https://mcdc.missouri.edu/applications/geocorr2018.html CTData, suggested citation (adjust alternate source geography): CT Data Collaborative. (2023). 2022 Census Tract Crosswalk. Retrieved : https://github.com/CT-Data-Collaborative/2022-tract-crosswalk. package, refer : https://ui-research.github.io/crosswalk/authors.html#citation","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/crosswalk_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Interpolate data using a crosswalk(s) — crosswalk_data","title":"Interpolate data using a crosswalk(s) — crosswalk_data","text":"Applies geographic crosswalk weights transform data source geography target geography. Can either accept pre-fetched crosswalk get_crosswalk() fetch crosswalk automatically using provided geography year parameters.","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/crosswalk_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interpolate data using a crosswalk(s) — crosswalk_data","text":"","code":"crosswalk_data(   data,   crosswalk = NULL,   source_geography = NULL,   target_geography = NULL,   source_year = NULL,   target_year = NULL,   weight = \"population\",   cache = NULL,   geoid_column = \"source_geoid\",   count_columns = NULL,   non_count_columns = NULL,   return_intermediate = FALSE,   show_join_quality = TRUE )"},{"path":"https://ui-research.github.io/crosswalk/reference/crosswalk_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interpolate data using a crosswalk(s) — crosswalk_data","text":"data data frame tibble containing data crosswalk. crosswalk output get_crosswalk() - list containing: crosswalks named list crosswalk tibbles (step_1, step_2, etc.) plan crosswalk plan message Description crosswalk chain Alternatively, single crosswalk tibble can provided backwards compatibility. NULL, crosswalk fetched using source_geography target_geography parameters. source_geography Character NULL. Source geography name. Required crosswalk NULL. One c(\"block\", \"block group\", \"tract\", \"place\", \"county\", \"urban_area\", \"zcta\", \"puma\", \"cd118\", \"cd119\", \"core_based_statistical_area\"). target_geography Character NULL. Target geography name. Required crosswalk NULL. options source_geography. source_year Numeric NULL. Year source geography. NULL crosswalk fetched, uses -year crosswalk via Geocorr. target_year Numeric NULL. Year target geography. NULL crosswalk fetched, uses -year crosswalk via Geocorr. weight Character. Weighting variable Geocorr crosswalks fetching. One c(\"population\", \"housing\", \"land\"). Default \"population\". cache Directory path NULL. cache fetched crosswalks. NULL (default), crosswalk fetched saved disk. geoid_column Character. name column data containing source geography identifiers (GEOIDs). Default \"source_geoid\". count_columns Character vector NULL. Column names data represent count variables. summed multiplying allocation factor. NULL (default), automatically detects columns prefix \"count_\". non_count_columns Character vector NULL. Column names data represent mean, median, percentage, ratio variables. calculated weighted means using allocation factor weights. NULL (default), automatically detects columns prefixes \"mean_\", \"median_\", \"percent_\", \"ratio_\". return_intermediate Logical. TRUE crosswalk multiple steps, returns list containing final result intermediate results step. Default FALSE, returns final result. show_join_quality Logical. TRUE (default), prints diagnostic messages join quality, including number data rows matching crosswalk vice versa. state-nested geographies (tract, county, block group, etc.), also reports state-level concentration unmatched rows. Set FALSE suppress messages.","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/crosswalk_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interpolate data using a crosswalk(s) — crosswalk_data","text":"return_intermediate = FALSE (default), tibble data summarized final target geography. return_intermediate = TRUE multiple crosswalk steps, list : final final crosswalked data intermediate named list intermediate results (step_1, step_2, etc.) returned tibble(s) include attribute crosswalk_metadata underlying crosswalk (access via attr(result, \"crosswalk_metadata\")).","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/crosswalk_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Interpolate data using a crosswalk(s) — crosswalk_data","text":"Two usage patterns: Pre-fetched crosswalk: Pass output get_crosswalk() crosswalk parameter. Useful want inspect reuse crosswalk. Direct crosswalking: Pass source_geography target_geography (optionally source_year, target_year, weight, cache) crosswalk fetched automatically. Useful one-transformations. Count variables (specified count_columns) interpolated summing product value allocation factor across source geographies overlap target geography. Non-count variables (specified non_count_columns) interpolated using weighted mean, allocation factor serving weight. Automatic column detection: count_columns non_count_columns NULL, function automatically detect columns based naming prefixes: Columns starting \"count_\" treated count variables Columns starting \"mean_\", \"median_\", \"percent_\", \"ratio_\" treated non-count variables columns: Columns geoid column, count columns, non-count columns (e.g., metadata like data_year) preserved taking first non-missing value within target geography group. values missing, NA returned. Multi-step crosswalks: get_crosswalk() returns multiple crosswalks (transformations change geography year), function automatically applies sequence.","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/crosswalk_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interpolate data using a crosswalk(s) — crosswalk_data","text":"","code":"if (FALSE) { # \\dontrun{ # Option 1: Pre-fetched crosswalk crosswalk <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"zcta\",   weight = \"population\")  result <- crosswalk_data(   data = my_tract_data,   crosswalk = crosswalk,   geoid_column = \"tract_geoid\",   count_columns = c(\"count_population\", \"count_housing_units\"))  # Option 2: Direct crosswalking (crosswalk fetched automatically) result <- crosswalk_data(   data = my_tract_data,   source_geography = \"tract\",   target_geography = \"zcta\",   weight = \"population\",   geoid_column = \"tract_geoid\",   count_columns = c(\"count_population\", \"count_housing_units\"))  # Direct crosswalking with year change result <- crosswalk_data(   data = my_data,   source_geography = \"tract\",   target_geography = \"zcta\",   source_year = 2010,   target_year = 2020,   weight = \"population\",   geoid_column = \"tract_geoid\",   count_columns = \"count_population\")  # Pre-fetched crosswalk with intermediate results crosswalk <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"zcta\",   source_year = 2010,   target_year = 2020,   weight = \"population\")  result <- crosswalk_data(   data = my_data,   crosswalk = crosswalk,   geoid_column = \"tract_geoid\",   count_columns = \"count_population\",   return_intermediate = TRUE)  # Access intermediate and final result$intermediate$step_1  # After first crosswalk result$final                # Final result } # }"},{"path":"https://ui-research.github.io/crosswalk/reference/get_crosswalk.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a crosswalk(s) to translate data across time and geographies — get_crosswalk","title":"Get a crosswalk(s) to translate data across time and geographies — get_crosswalk","text":"Retrieves crosswalk interpolation values source geography target geography, optionally across different years. Always returns list consistent structure containing one crosswalk tibbles.","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/get_crosswalk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a crosswalk(s) to translate data across time and geographies — get_crosswalk","text":"","code":"get_crosswalk(   source_geography,   target_geography,   source_year = NULL,   target_year = NULL,   cache = NULL,   weight = \"population\" )"},{"path":"https://ui-research.github.io/crosswalk/reference/get_crosswalk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a crosswalk(s) to translate data across time and geographies — get_crosswalk","text":"source_geography Character. Source geography name. One c(\"block\", \"block group\", \"tract\", \"place\", \"county\", \"urban_area\", \"zcta\", \"puma\", \"puma12\", \"puma22\", \"cd115\", \"cd116\", \"cd118\", \"cd119\", \"urban_area\", \"core_based_statistical_area\"). target_geography Character. Target geography name. One c(\"block\", \"block group\", \"tract\", \"place\", \"county\", \"urban_area\", \"zcta\", \"puma\", \"puma12\", \"puma22\", \"cd115\", \"cd116\", \"cd118\", \"cd119\", \"urban_area\", \"core_based_statistical_area\"). source_year Character numeric. Year source geography, one c(1990, 2000, 2010, 2020). target_year Character numeric. Year target geography, one c(1990, 2000, 2010, 2020) decennial crosswalks, c(2011, 2012, 2014, 2015, 2022) non-census year crosswalks (limited block groups, tracts, counties). cache Directory path. download crosswalk . NULL (default), crosswalk returned saved disk. Individual component crosswalks cached separately provided. weight Character. Weighting variable Geocorr crosswalks. One c(\"population\", \"housing\", \"land\").","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/get_crosswalk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a crosswalk(s) to translate data across time and geographies — get_crosswalk","text":"list consistent structure: crosswalks named list crosswalk tibbles (step_1, step_2, etc.). Single-step transformations one crosswalk; multi-step two . plan crosswalk plan describing transformation steps message formatted message describing crosswalk chain crosswalk tibble includes attribute crosswalk_metadata (access via attr(result$crosswalks$step_1, \"crosswalk_metadata\")) containing comprehensive information crosswalk produced. Columns returned crosswalk dataframes (may present depending source): source_geoid unique identifier source geography target_geoid unique identifier target geography source_geography_name name source geography target_geography_name name target geography source_year year source geography target_year year target geography allocation_factor_source_to_target weight interpolate values source geography target geography allocation_factor_target_to_source weight interpolate values target geography source geography population_2020 estimated overlap population, applicable housing_2020 estimated overlap housing units, applicable land_area_sqmi overlap land area, applicable weighting_factor attribute used calculate allocation factors state_fips Two-digit state FIPS code, applicable","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/get_crosswalk.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get a crosswalk(s) to translate data across time and geographies — get_crosswalk","text":"function sources crosswalks Geocorr 2022, Geocorr 2018, IPUMS NHGIS, CT Data Collaborative. Crosswalk weights original sources modified; function merely standardizes format returned crosswalks enables easy programmatic access caching. GeoCorr version selection: -year geography crosswalks, appropriate GeoCorr version selected automatically based year: Years 2020+ (year specified): GeoCorr 2022 (2020 Census geography) Years 2010-2019: GeoCorr 2018 (2010 Census geography) Geography name resolution: User-facing geography names like \"puma\", \"zcta\", \"place\", \"blockgroup\" automatically resolved correct API codes selected GeoCorr version. Version-specific names also accepted (e.g., \"puma12\" GeoCorr 2018, \"puma22\" GeoCorr 2022). Multi-step crosswalks: geography year change (e.g., 2010 tracts 2020 ZCTAs), single crosswalk source provides directly. function returns multiple crosswalks applied sequentially: First crosswalk changes year (via NHGIS): source_geog(source_year) -> source_geog(target_year) Second crosswalk changes geography (via Geocorr): source_geog(target_year) -> target_geog(target_year) Non-census year support: target years 2011, 2012, 2014, 2015, 2022, crosswalks available block groups, tracts, counties. years correspond American Community Survey geography changes. 2020 2022 crosswalks: 2022 geographic changes affected Connecticut (county-equivalent planning regions replaced historical counties). case, function combines CT Data Collaborative crosswalks Connecticut identity mappings states. Note IPUMS NHGIS API key required access crosswalks source. Use usethis::edit_r_environ(scope = \"user\") save API key .Renviron; name key \"IPUMS_API_KEY\". can obtain key : https://account.ipums.org/api_keys.","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/get_crosswalk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a crosswalk(s) to translate data across time and geographies — get_crosswalk","text":"","code":"if (FALSE) { # \\dontrun{ # Same-year crosswalk between geographies (uses Geocorr) # Returns list with one crosswalk in crosswalks$step_1 result <- get_crosswalk(   source_geography = \"zcta\",   target_geography = \"puma22\",   weight = \"population\",   cache = here::here(\"crosswalks-cache\"))  # Apply to data using crosswalk_data() output <- crosswalk_data(   data = my_data,   crosswalk = result,   count_columns = \"count_population\")  # Multi-step crosswalk: both geography AND year change # Returns list with two crosswalks in crosswalks$step_1 and crosswalks$step_2 result <- get_crosswalk(   source_geography = \"tract\",   target_geography = \"zcta\",   source_year = 2010,   target_year = 2020,   weight = \"population\")  # crosswalk_data() automatically applies all steps output <- crosswalk_data(   data = my_data,   crosswalk = result,   count_columns = \"count_population\")  # To get intermediate results, set return_intermediate = TRUE output <- crosswalk_data(   data = my_data,   crosswalk = result,   count_columns = \"count_population\",   return_intermediate = TRUE) } # }"},{"path":"https://ui-research.github.io/crosswalk/reference/list_nhgis_crosswalks.html","id":null,"dir":"Reference","previous_headings":"","what":"List supported NHGIS crosswalks — list_nhgis_crosswalks","title":"List supported NHGIS crosswalks — list_nhgis_crosswalks","text":"Returns tibble available NHGIS geographic crosswalks corresponding parameters can used get_nhgis_crosswalk().","code":""},{"path":"https://ui-research.github.io/crosswalk/reference/list_nhgis_crosswalks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List supported NHGIS crosswalks — list_nhgis_crosswalks","text":"","code":"list_nhgis_crosswalks()"},{"path":"https://ui-research.github.io/crosswalk/reference/list_nhgis_crosswalks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List supported NHGIS crosswalks — list_nhgis_crosswalks","text":"tibble columns: source_year: Year source geography source_geography: Source geography name target_year: Year target geography target_geography: Target geography name","code":""}]
